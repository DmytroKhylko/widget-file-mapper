{
  "fqn": "entities_table_with_actions",
  "name": "Entities table with actions",
  "deprecated": false,
  "image": "tb-image;/api/images/system/entities_table_system_widget_image.png",
  "description": "Displays a list of entities that match the selected alias and optional filter. Provides the ability for full-text search and pagination, except for columns with post-processing or cell content functions. Highly customizable using widget styles, data source keys, and widget actions.",
  "descriptor": {
    "type": "latest",
    "sizeX": 7.5,
    "sizeY": 6.5,
    "resources": [],
    "templateHtml": "<tb-entities-table-widget \n    [ctx]=\"ctx\">\n</tb-entities-table-widget>",
    "templateCss": "",
    "controllerScript": "self.onInit = function() {\n}\n\nself.onDataUpdated = function() {\n    self.ctx.$scope.entitiesTableWidget.onDataUpdated();\n}\n\nself.onEditModeChanged = function() {\n    self.ctx.$scope.entitiesTableWidget.onEditModeChanged();\n}\n\nself.typeParameters = function() {\n    return {\n        maxDatasources: 1,\n        hasDataPageLink: true,\n        warnOnPageDataOverflow: false,\n        dataKeysOptional: true,\n        defaultDataKeysFunction: function() {\n            return [{ name: 'name', type: 'entityField' }];\n        }\n    };\n}\n\nself.actionSources = function() {\n    return {\n        'actionCellButton': {\n            name: 'widget-action.action-cell-button',\n            multiple: true,\n            hasShowCondition: true\n        },\n        'rowClick': {\n            name: 'widget-action.row-click',\n            multiple: false\n        },\n        'rowDoubleClick': {\n            name: 'widget-action.row-double-click',\n            multiple: false\n        },\n        'cellClick': {\n            name: 'widget-action.cell-click',\n            multiple: true\n        }\n    };\n}\n\nself.onDestroy = function() {\n}\n",
    "settingsSchema": "",
    "dataKeySettingsSchema": "",
    "settingsDirective": "tb-entities-table-widget-settings",
    "dataKeySettingsDirective": "tb-entities-table-key-settings",
    "hasBasicMode": true,
    "basicModeDirective": "tb-entities-table-basic-config",
    "defaultConfig": "{\"timewindow\":{\"realtime\":{\"interval\":1000,\"timewindowMs\":86400000},\"aggregation\":{\"type\":\"NONE\",\"limit\":200}},\"showTitle\":true,\"backgroundColor\":\"rgb(255, 255, 255)\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"4px\",\"settings\":{\"enableSearch\":true,\"enableSelectColumnDisplay\":true,\"enableStickyHeader\":true,\"enableStickyAction\":true,\"reserveSpaceForHiddenAction\":\"true\",\"displayEntityName\":false,\"displayEntityLabel\":false,\"displayEntityType\":false,\"displayPagination\":true,\"defaultPageSize\":10,\"defaultSortOrder\":\"name\",\"useRowStyleFunction\":false,\"entitiesTitle\":\"Entities\"},\"title\":\"Entities table with actions\",\"dropShadow\":true,\"enableFullscreen\":true,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400,\"padding\":\"5px 10px 5px 10px\"},\"useDashboardTimewindow\":false,\"showLegend\":false,\"datasources\":[{\"type\":\"function\",\"name\":\"Simulated\",\"entityAliasId\":null,\"filterId\":null,\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Entity name\",\"color\":\"#2196f3\",\"settings\":{\"columnWidth\":\"0px\",\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.472295003170325,\"funcBody\":\"return 'Simulated';\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Entity type\",\"color\":\"#607d8b\",\"settings\":{},\"_hash\":0.782057645776538,\"funcBody\":\"return 'Device';\",\"decimals\":null,\"aggregationType\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Sin\",\"color\":\"#4caf50\",\"settings\":{},\"_hash\":0.904797781901171,\"funcBody\":\"return Math.round(1000*Math.sin(time/5000));\",\"decimals\":0},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Cos\",\"color\":\"#f44336\",\"settings\":{},\"_hash\":0.1961430898042078,\"funcBody\":\"return Math.round(1000*Math.cos(time/5000));\",\"decimals\":0},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#ffc107\",\"settings\":{},\"_hash\":0.7678057538205878,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\",\"decimals\":2}],\"alarmFilterConfig\":{\"statusList\":[\"ACTIVE\"]}}],\"displayTimewindow\":false,\"configMode\":\"advanced\",\"actions\":{\"rowClick\":[{\"name\":\"Nav to page\",\"icon\":\"more_horiz\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"custom\",\"customFunction\":\"console.log(\\\"On row click\\\", \\\"//TODO:nav\\\")\",\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"47381d55-279e-a1b2-d0db-a258f82bac71\"}],\"rowDoubleClick\":[{\"name\":\"Open details\",\"icon\":\"more_horiz\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"custom\",\"customFunction\":\"console.log(\\\"On row double click\\\", \\\"Open details\\\");\",\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"a2bb7bb1-b073-4435-63b6-127fcf4c8f5a\"}],\"actionCellButton\":[{\"name\":\"Edit entity\",\"icon\":\"edit\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"customPretty\",\"customHtml\":\"<form #editEntityForm=\\\"ngForm\\\" [formGroup]=\\\"editEntityFormGroup\\\"\\n      (ngSubmit)=\\\"save()\\\"  class=\\\"edit-entity-form\\\">\\n    <mat-toolbar class=\\\"flex flex-row\\\" color=\\\"primary\\\">\\n        <h2>Edit {{entityType.toLowerCase()}} {{entityName}}</h2>\\n        <span class=\\\"flex-1\\\"></span>\\n        <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n            <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n        </button>\\n    </mat-toolbar>\\n    <mat-progress-bar color=\\\"warn\\\" mode=\\\"indeterminate\\\" *ngIf=\\\"isLoading$ | async\\\">\\n    </mat-progress-bar>\\n    <div style=\\\"height: 4px;\\\" *ngIf=\\\"!(isLoading$ | async)\\\"></div>\\n    <div mat-dialog-content class=\\\"flex flex-col\\\">\\n        <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n            <mat-form-field class=\\\"mat-block flex-1\\\">\\n                <mat-label>Entity Name</mat-label>\\n                <input matInput formControlName=\\\"entityName\\\" required readonly=\\\"\\\">\\n            </mat-form-field>\\n            <mat-form-field class=\\\"mat-block flex-1\\\">\\n                <mat-label>Entity Label</mat-label>\\n                <input matInput formControlName=\\\"entityLabel\\\">\\n            </mat-form-field>\\n        </div>\\n        <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n            <mat-form-field class=\\\"mat-block flex-1\\\">\\n                <mat-label>Entity Type</mat-label>\\n                <input matInput formControlName=\\\"entityType\\\" readonly>\\n            </mat-form-field>\\n            <mat-form-field class=\\\"mat-block flex-1\\\">\\n                <mat-label>Type</mat-label>\\n                <input matInput formControlName=\\\"type\\\" readonly>\\n            </mat-form-field>\\n        </div>\\n        <div formGroupName=\\\"attributes\\\" class=\\\"flex flex-col\\\">\\n            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Latitude</mat-label>\\n                    <input type=\\\"number\\\" step=\\\"any\\\" matInput formControlName=\\\"latitude\\\">\\n                </mat-form-field>\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Longitude</mat-label>\\n                    <input type=\\\"number\\\" step=\\\"any\\\" matInput formControlName=\\\"longitude\\\">\\n                </mat-form-field>\\n            </div>\\n            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Address</mat-label>\\n                    <input matInput formControlName=\\\"address\\\">\\n                </mat-form-field>\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Owner</mat-label>\\n                    <input matInput formControlName=\\\"owner\\\">\\n                </mat-form-field>\\n            </div>\\n            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Integer Value</mat-label>\\n                    <input type=\\\"number\\\" step=\\\"1\\\" matInput formControlName=\\\"number\\\">\\n                    <mat-error *ngIf=\\\"editEntityFormGroup.get('attributes.number').hasError('pattern')\\\">\\n                        Invalid integer value.\\n                    </mat-error>\\n                </mat-form-field>\\n                <div class=\\\"boolean-value-input flex flex-1 flex-col items-start justify-center\\\">\\n                    <label class=\\\"checkbox-label\\\">Boolean Value</label>\\n                    <mat-checkbox formControlName=\\\"booleanValue\\\" style=\\\"margin-bottom: 40px;\\\">\\n                        {{ (editEntityFormGroup.get('attributes.booleanValue').value ? \\\"value.true\\\" : \\\"value.false\\\") | translate }}\\n                    </mat-checkbox>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"relations-list old-relations\\\">\\n            <div class=\\\"mat-body-1\\\" style=\\\"padding-bottom: 10px; color: rgba(0,0,0,0.57);\\\">Relations</div>\\n            <div class=\\\"body\\\" [class.!hidden]=\\\"!oldRelations().length\\\">\\n                <div class=\\\"row flex flex-row items-center justify-start\\\" formArrayName=\\\"oldRelations\\\" \\n                     *ngFor=\\\"let relation of oldRelations().controls; let i = index;\\\">\\n                    <div [formGroupName]=\\\"i\\\" class=\\\"mat-elevation-z2 flex flex-1 flex-row\\\" style=\\\"padding: 5px 0 5px 5px;\\\">\\n                        <div class=\\\"flex flex-1 flex-col\\\">\\n                            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                                <mat-form-field class=\\\"mat-block\\\" style=\\\"min-width: 100px;\\\">\\n                                    <mat-label>Direction</mat-label>\\n                                    <mat-select formControlName=\\\"direction\\\" name=\\\"direction\\\">\\n                                        <mat-option *ngFor=\\\"let direction of entitySearchDirection | keyvalue\\\" [value]=\\\"direction.value\\\">\\n                                            {{ (\\\"relation.search-direction.\\\" + direction.value) | translate}}\\n                                        </mat-option>\\n                                    </mat-select>\\n                                    <mat-error *ngIf=\\\"relation.get('direction').hasError('required')\\\">\\n                                        Relation direction is required.\\n                                    </mat-error>\\n                                </mat-form-field>\\n                                <tb-relation-type-autocomplete\\n                                        class=\\\"mat-block flex-1\\\"\\n                                        formControlName=\\\"relationType\\\"\\n                                        required=\\\"true\\\">\\n                                </tb-relation-type-autocomplete>\\n                            </div>\\n                            <div class=\\\"flex flex-row xs:flex-col\\\">\\n                                <tb-entity-select\\n                                        class=\\\"mat-block flex-1\\\"\\n                                        required=\\\"true\\\"\\n                                        formControlName=\\\"relatedEntity\\\">\\n                                </tb-entity-select>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"flex flex-col items-center justify-center\\\">\\n                            <button mat-icon-button color=\\\"primary\\\"\\n                                    aria-label=\\\"Remove\\\"\\n                                    type=\\\"button\\\"\\n                                    (click)=\\\"removeOldRelation(i, relation.value)\\\"\\n                                    matTooltip=\\\"Remove relation\\\"\\n                                    matTooltipPosition=\\\"above\\\">\\n                                <mat-icon>close</mat-icon>\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"relations-list\\\">\\n            <div class=\\\"mat-body-1\\\" style=\\\"padding-bottom: 10px; color: rgba(0,0,0,0.57);\\\">New Relations</div>\\n            <div class=\\\"body\\\" [class.!hidden]=\\\"!relations().length\\\">\\n                <div class=\\\"row flex flex-row items-center justify-start\\\" formArrayName=\\\"relations\\\" *ngFor=\\\"let relation of relations().controls; let i = index;\\\">\\n                    <div [formGroupName]=\\\"i\\\" class=\\\"mat-elevation-z2 flex flex-1 flex-row\\\" style=\\\"padding: 5px 0 5px 5px;\\\">\\n                        <div class=\\\"flex flex-1 flex-col\\\">\\n                            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                                <mat-form-field class=\\\"mat-block\\\" style=\\\"min-width: 100px;\\\">\\n                                    <mat-label>Direction</mat-label>\\n                                    <mat-select formControlName=\\\"direction\\\" name=\\\"direction\\\">\\n                                        <mat-option *ngFor=\\\"let direction of entitySearchDirection | keyvalue\\\" [value]=\\\"direction.value\\\">\\n                                            {{ (\\\"relation.search-direction.\\\" + direction.value) | translate}}\\n                                        </mat-option>\\n                                    </mat-select>\\n                                    <mat-error *ngIf=\\\"relation.get('direction').hasError('required')\\\">\\n                                        Relation direction is required.\\n                                    </mat-error>\\n                                </mat-form-field>\\n                                <tb-relation-type-autocomplete\\n                                        class=\\\"mat-block flex-1\\\"\\n                                        formControlName=\\\"relationType\\\"\\n                                        [required]=\\\"true\\\">\\n                                </tb-relation-type-autocomplete>\\n                            </div>\\n                            <div class=\\\"flex flex-row xs:flex-col\\\">\\n                                <tb-entity-select\\n                                        class=\\\"mat-block flex-1\\\"\\n                                        [required]=\\\"true\\\"\\n                                        formControlName=\\\"relatedEntity\\\">\\n                                </tb-entity-select>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"flex flex-col items-center justify-center\\\">\\n                            <button mat-icon-button color=\\\"primary\\\"\\n                                    aria-label=\\\"Remove\\\"\\n                                    type=\\\"button\\\"\\n                                    (click)=\\\"removeRelation(i)\\\"\\n                                    matTooltip=\\\"Remove relation\\\"\\n                                    matTooltipPosition=\\\"above\\\">\\n                                <mat-icon>close</mat-icon>\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div>\\n                <button mat-raised-button color=\\\"primary\\\"\\n                        type=\\\"button\\\"\\n                        (click)=\\\"addRelation()\\\"\\n                        matTooltip=\\\"Add Relation\\\"\\n                        matTooltipPosition=\\\"above\\\">\\n                    Add\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n    <div mat-dialog-actions class=\\\"flex flex-row items-center justify-end\\\">\\n        <button mat-button color=\\\"primary\\\"\\n                type=\\\"button\\\"\\n                [disabled]=\\\"(isLoading$ | async)\\\"\\n                (click)=\\\"cancel()\\\" cdkFocusInitial>\\n            Cancel\\n        </button>\\n        <button mat-button mat-raised-button color=\\\"primary\\\"\\n                type=\\\"submit\\\"\\n                [disabled]=\\\"(isLoading$ | async) || editEntityForm.invalid || !editEntityForm.dirty\\\">\\n            Save\\n        </button>\\n    </div>\\n</form>\\n\",\"customCss\":\".edit-entity-form .boolean-value-input {\\n    padding-left: 5px;\\n}\\n\\n.edit-entity-form .boolean-value-input .checkbox-label {\\n    color: rgba(0,0,0,0.54);\\n    font-size: 12px;\\n}\\n\\n.relations-list .header {\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .header .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n    font-size: 12px;\\n    font-weight: 700;\\n    color: rgba(0, 0, 0, .54);\\n    white-space: nowrap;\\n}\\n\\n.relations-list .mat-form-field-infix {\\n    width: auto !important;\\n}\\n\\n.relations-list .body {\\n    padding-right: 5px;\\n    padding-bottom: 15px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .row {\\n    padding-top: 5px;\\n}\\n\\n.relations-list .body .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .md-button {\\n    margin: 0;\\n}\\n\",\"customFunction\":\"let $injector = widgetContext.$scope.$injector;\\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\\nlet entityService = $injector.get(widgetContext.servicesMap.get('entityService'));\\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\\nlet entityRelationService = $injector.get(widgetContext.servicesMap.get('entityRelationService'));\\n\\nopenEditEntityDialog();\\n\\nfunction openEditEntityDialog() {\\n    customDialog.customDialog(htmlTemplate, EditEntityDialogController).subscribe();\\n}\\n\\nfunction EditEntityDialogController(instance) {\\n    let vm = instance;\\n\\n    vm.entityName = entityName;\\n    vm.entityType = entityId.entityType;\\n    vm.entitySearchDirection = {\\n        from: \\\"FROM\\\",\\n        to: \\\"TO\\\"\\n    };\\n    vm.attributes = {};\\n    vm.oldRelationsData = [];\\n    vm.relationsToDelete = [];\\n    vm.entity = {};\\n\\n    vm.editEntityFormGroup = vm.fb.group({\\n        entityName: ['', [vm.validators.required]],\\n        entityType: [null],\\n        entityLabel: [null],\\n        type: ['', [vm.validators.required]],\\n        attributes: vm.fb.group({\\n            latitude: [null],\\n            longitude: [null],\\n            address: [null],\\n            owner: [null],\\n            number: [null, [vm.validators.pattern(/^-?[0-9]+$/)]],\\n            booleanValue: [false]\\n        }),\\n        oldRelations: vm.fb.array([]),\\n        relations: vm.fb.array([])\\n    });\\n\\n    getEntityInfo();\\n\\n    vm.cancel = function() {\\n        vm.dialogRef.close(null);\\n    };\\n\\n    vm.relations = function() {\\n        return vm.editEntityFormGroup.get('relations');\\n    };\\n\\n    vm.oldRelations = function() {\\n        return vm.editEntityFormGroup.get('oldRelations');\\n    };\\n\\n    vm.addRelation = function() {\\n        vm.relations().push(vm.fb.group({\\n            relatedEntity: [null, [vm.validators.required]],\\n            relationType: [null, [vm.validators.required]],\\n            direction: [null, [vm.validators.required]]\\n        }));\\n    };\\n\\n    function addOldRelation() {\\n        vm.oldRelations().push(vm.fb.group({\\n            relatedEntity: [{value: null, disabled: true}, [vm.validators.required]],\\n            relationType: [{value: null, disabled: true}, [vm.validators.required]],\\n            direction: [{value: null, disabled: true}, [vm.validators.required]]\\n        }));\\n    }\\n\\n    vm.removeRelation = function(index) {\\n        vm.relations().removeAt(index);\\n        vm.relations().markAsDirty();\\n    };\\n\\n    vm.removeOldRelation = function(index, relation) {\\n        vm.oldRelations().removeAt(index);\\n        vm.relationsToDelete.push(relation);\\n        vm.oldRelations().markAsDirty();\\n    };\\n\\n    vm.save = function() {\\n        vm.editEntityFormGroup.markAsPristine();\\n        widgetContext.rxjs.forkJoin([\\n            saveAttributes(entityId),\\n            saveRelations(entityId),\\n            saveEntity()\\n        ]).subscribe(\\n            function () {\\n                widgetContext.updateAliases();\\n                vm.dialogRef.close(null);\\n            }\\n        );\\n    };\\n\\n    function getEntityAttributes(attributes) {\\n        for (var i = 0; i < attributes.length; i++) {\\n            vm.attributes[attributes[i].key] = attributes[i].value;\\n        }\\n    }\\n\\n    function getEntityRelations(relations) {\\n        let relationsFrom = relations[0];\\n        let relationsTo = relations[1];\\n        for (let i=0; i < relationsFrom.length; i++) {\\n            let relation = {\\n                direction: 'FROM',\\n                relationType: relationsFrom[i].type,\\n                relatedEntity: relationsFrom[i].to\\n            };\\n            vm.oldRelationsData.push(relation);\\n            addOldRelation();\\n        }\\n        for (let i=0; i < relationsTo.length; i++) {\\n            let relation = {\\n                direction: 'TO',\\n                relationType: relationsTo[i].type,\\n                relatedEntity: relationsTo[i].from\\n            };\\n            vm.oldRelationsData.push(relation);\\n            addOldRelation();\\n        }\\n    }\\n\\n    function getEntityInfo() {\\n        widgetContext.rxjs.forkJoin([\\n            entityRelationService.findInfoByFrom(entityId),\\n            entityRelationService.findInfoByTo(entityId),\\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE'),\\n            entityService.getEntity(entityId.entityType, entityId.id)\\n        ]).subscribe(\\n            function (data) {\\n                getEntityRelations(data.slice(0,2));\\n                getEntityAttributes(data[2]);\\n                vm.entity = data[3];\\n                vm.editEntityFormGroup.patchValue({\\n                    entityName: vm.entity.name,\\n                    entityType: vm.entityType,\\n                    entityLabel: vm.entity.label,\\n                    type: vm.entity.type,\\n                    attributes: vm.attributes,\\n                    oldRelations: vm.oldRelationsData\\n                }, {emitEvent: false});\\n            }\\n        );\\n    }\\n\\n    function saveEntity() {\\n        const formValues = vm.editEntityFormGroup.value;\\n        if (vm.entity.label !== formValues.entityLabel){\\n            vm.entity.label = formValues.entityLabel;\\n            if (formValues.entityType == 'ASSET') {\\n                return assetService.saveAsset(vm.entity);\\n            } else if (formValues.entityType == 'DEVICE') {\\n                return deviceService.saveDevice(vm.entity);\\n            }\\n        }\\n        return widgetContext.rxjs.of([]);\\n    }\\n\\n    function saveAttributes(entityId) {\\n        let attributes = vm.editEntityFormGroup.get('attributes').value;\\n        let attributesArray = [];\\n        for (let key in attributes) {\\n            if (attributes[key] !== vm.attributes[key]) {\\n                attributesArray.push({key: key, value: attributes[key]});\\n            }\\n        }\\n        if (attributesArray.length > 0) {\\n            return attributeService.saveEntityAttributes(entityId, \\\"SERVER_SCOPE\\\", attributesArray);\\n        }\\n        return widgetContext.rxjs.of([]);\\n    }\\n\\n    function saveRelations(entityId) {\\n        let relations = vm.editEntityFormGroup.get('relations').value;\\n        let tasks = [];\\n        for(let i=0; i < relations.length; i++) {\\n            let relation = {\\n                type: relations[i].relationType,\\n                typeGroup: 'COMMON'\\n            };\\n            if (relations[i].direction == 'FROM') {\\n                relation.to = relations[i].relatedEntity;\\n                relation.from = entityId;\\n            } else {\\n                relation.to = entityId;\\n                relation.from = relations[i].relatedEntity;\\n            }\\n            tasks.push(entityRelationService.saveRelation(relation));\\n        }\\n        for (let i=0; i < vm.relationsToDelete.length; i++) {\\n            let relation = {\\n                type: vm.relationsToDelete[i].relationType\\n            };\\n            if (vm.relationsToDelete[i].direction == 'FROM') {\\n                relation.to = vm.relationsToDelete[i].relatedEntity;\\n                relation.from = entityId;\\n            } else {\\n                relation.to = entityId;\\n                relation.from = vm.relationsToDelete[i].relatedEntity;\\n            }\\n            tasks.push(entityRelationService.deleteRelation(relation.from, relation.type, relation.to));\\n        }\\n        if (tasks.length > 0) {\\n            return widgetContext.rxjs.forkJoin(tasks);\\n        }\\n        return widgetContext.rxjs.of([]);\\n    }\\n}\\n\",\"customResources\":[],\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"a274db3d-0c54-31f0-52c9-9a7f407677a5\"},{\"name\":\"Delete entity\",\"icon\":\"delete\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"custom\",\"customFunction\":\"let $injector = widgetContext.$scope.$injector;\\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\\n\\nopenDeleteEntityDialog();\\n\\nfunction openDeleteEntityDialog() {\\n    let title = 'Delete ' + entityId.entityType.toLowerCase() + ' ' +\\n                entityName;\\n    let content = 'Are you sure you want to delete the ' +\\n                 entityId.entityType.toLowerCase() + ' ' + entityName + '?';\\n    dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\\n        function(result) {\\n            if (result) {\\n                deleteEntity();\\n            }\\n        }\\n    );\\n}\\n\\nfunction deleteEntity() {\\n    deleteEntityObservable(entityId).subscribe(\\n        function success() {\\n            widgetContext.updateAliases();\\n        },\\n        function fail() {\\n            showErrorDialog();\\n        }\\n    );\\n}\\n\\nfunction deleteEntityObservable(entityId) {\\n    if (entityId.entityType == \\\"ASSET\\\") {\\n        return assetService.deleteAsset(entityId.id);\\n    } else if (entityId.entityType == \\\"DEVICE\\\") {\\n        return deviceService.deleteDevice(entityId.id);\\n    }\\n}\\n\\nfunction showErrorDialog() {\\n    let title = 'Error';\\n    let content = 'An error occurred while deleting the entity. Please try again.';\\n    dialogs.alert(title, content, 'CLOSE').subscribe(\\n        function(result) {}\\n    );\\n}\",\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"5dfd66df-3b96-9b54-e8d3-62a223adf829\"}],\"headerButton\":[{\"name\":\"Add entity\",\"icon\":\"add\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"customPretty\",\"customHtml\":\"<form #addEntityForm=\\\"ngForm\\\" [formGroup]=\\\"addEntityFormGroup\\\"\\n      (ngSubmit)=\\\"save()\\\" class=\\\"add-entity-form\\\">\\n    <mat-toolbar class=\\\"flex flex-row\\\" color=\\\"primary\\\">\\n        <h2>Add entity</h2>\\n        <span class=\\\"flex-1\\\"></span>\\n        <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n            <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n        </button>\\n    </mat-toolbar>\\n    <mat-progress-bar color=\\\"warn\\\" mode=\\\"indeterminate\\\" *ngIf=\\\"isLoading$ | async\\\">\\n    </mat-progress-bar>\\n    <div style=\\\"height: 4px;\\\" *ngIf=\\\"!(isLoading$ | async)\\\"></div>\\n    <div mat-dialog-content class=\\\"flex flex-col\\\">\\n        <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n            <mat-form-field class=\\\"mat-block flex-1\\\">\\n                <mat-label>Entity Name</mat-label>\\n                <input matInput formControlName=\\\"entityName\\\" required>\\n                <mat-error *ngIf=\\\"addEntityFormGroup.get('entityName').hasError('required')\\\">\\n                    Entity name is required.\\n                </mat-error>\\n            </mat-form-field>\\n            <mat-form-field class=\\\"mat-block flex-1\\\">\\n                <mat-label>Entity Label</mat-label>\\n                <input matInput formControlName=\\\"entityLabel\\\" >\\n            </mat-form-field>\\n        </div>\\n        <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n            <tb-entity-type-select\\n                    class=\\\"mat-block\\\"\\n                    formControlName=\\\"entityType\\\"\\n                    [showLabel]=\\\"true\\\"\\n                    [allowedEntityTypes]=\\\"allowedEntityTypes\\\"\\n            ></tb-entity-type-select>\\n            <tb-entity-subtype-autocomplete\\n                    *ngIf=\\\"addEntityFormGroup.get('entityType').value == 'ASSET'\\\"\\n                    class=\\\"mat-block flex-1\\\"\\n                    formControlName=\\\"type\\\"\\n                    [required]=\\\"true\\\"\\n                    [entityType]=\\\"'ASSET'\\\"\\n            ></tb-entity-subtype-autocomplete>\\n            <tb-entity-subtype-autocomplete\\n                    *ngIf=\\\"addEntityFormGroup.get('entityType').value != 'ASSET'\\\"\\n                    class=\\\"mat-block flex-1\\\"\\n                    formControlName=\\\"type\\\"\\n                    [required]=\\\"true\\\"\\n                    [entityType]=\\\"'DEVICE'\\\"\\n            ></tb-entity-subtype-autocomplete>\\n        </div>\\n        <div formGroupName=\\\"attributes\\\" class=\\\"flex flex-col\\\">\\n            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Latitude</mat-label>\\n                    <input type=\\\"number\\\" step=\\\"any\\\" matInput formControlName=\\\"latitude\\\">\\n                </mat-form-field>\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Longitude</mat-label>\\n                    <input type=\\\"number\\\" step=\\\"any\\\" matInput formControlName=\\\"longitude\\\">\\n                </mat-form-field>\\n            </div>\\n            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Address</mat-label>\\n                    <input matInput formControlName=\\\"address\\\">\\n                </mat-form-field>\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Owner</mat-label>\\n                    <input matInput formControlName=\\\"owner\\\">\\n                </mat-form-field>\\n            </div>\\n            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                <mat-form-field class=\\\"mat-block flex-1\\\">\\n                    <mat-label>Integer Value</mat-label>\\n                    <input type=\\\"number\\\" step=\\\"1\\\" matInput formControlName=\\\"number\\\">\\n                    <mat-error *ngIf=\\\"addEntityFormGroup.get('attributes.number').hasError('pattern')\\\">\\n                        Invalid integer value.\\n                    </mat-error>\\n                </mat-form-field>\\n                <div class=\\\"boolean-value-input flex flex-1 flex-col items-center justify-start\\\">\\n                    <label class=\\\"checkbox-label\\\">Boolean Value</label>\\n                    <mat-checkbox formControlName=\\\"booleanValue\\\" style=\\\"margin-bottom: 40px;\\\">\\n                        {{ (addEntityFormGroup.get('attributes.booleanValue').value ? \\\"value.true\\\" : \\\"value.false\\\") | translate }}\\n                    </mat-checkbox>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"relations-list\\\">\\n            <div class=\\\"mat-body-1\\\" style=\\\"padding-bottom: 10px; color: rgba(0,0,0,0.57);\\\">Relations</div>\\n            <div class=\\\"body\\\" [class.!hidden]=\\\"!relations().length\\\">\\n                <div class=\\\"row flex flex-row items-center justify-start\\\" formArrayName=\\\"relations\\\" *ngFor=\\\"let relation of relations().controls; let i = index;\\\">\\n                    <div [formGroupName]=\\\"i\\\" class=\\\"mat-elevation-z2 flex flex-1 flex-row\\\" style=\\\"padding: 5px 0 5px 5px;\\\">\\n                        <div class=\\\"flex flex-1 flex-col\\\">\\n                            <div class=\\\"flex flex-row gap-2 xs:flex-col xs:gap-0\\\">\\n                                <mat-form-field class=\\\"mat-block\\\" style=\\\"min-width: 100px;\\\">\\n                                    <mat-label>Direction</mat-label>\\n                                    <mat-select formControlName=\\\"direction\\\" name=\\\"direction\\\">\\n                                        <mat-option *ngFor=\\\"let direction of entitySearchDirection | keyvalue\\\" [value]=\\\"direction.value\\\">\\n                                            {{ (\\\"relation.search-direction.\\\" + direction.value) | translate}}\\n                                        </mat-option>\\n                                    </mat-select>\\n                                    <mat-error *ngIf=\\\"relation.get('direction').hasError('required')\\\">\\n                                        Relation direction is required.\\n                                    </mat-error>\\n                                </mat-form-field>\\n                                <tb-relation-type-autocomplete\\n                                        class=\\\"mat-block flex-1\\\"\\n                                        formControlName=\\\"relationType\\\"\\n                                        [required]=\\\"true\\\">\\n                                </tb-relation-type-autocomplete>\\n                            </div>\\n                            <div class=\\\"flex flex-row xs:flex-col\\\">\\n                                <tb-entity-select\\n                                        class=\\\"mat-block flex-1\\\"\\n                                        [required]=\\\"true\\\"\\n                                        formControlName=\\\"relatedEntity\\\">\\n                                </tb-entity-select>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"flex flex-col items-center justify-center\\\">\\n                            <button mat-icon-button color=\\\"primary\\\"\\n                                    aria-label=\\\"Remove\\\"\\n                                    type=\\\"button\\\"\\n                                    (click)=\\\"removeRelation(i)\\\"\\n                                    matTooltip=\\\"Remove relation\\\"\\n                                    matTooltipPosition=\\\"above\\\">\\n                                <mat-icon>close</mat-icon>\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div>\\n                <button mat-raised-button color=\\\"primary\\\"\\n                        type=\\\"button\\\"\\n                        (click)=\\\"addRelation()\\\"\\n                        matTooltip=\\\"Add Relation\\\"\\n                        matTooltipPosition=\\\"above\\\">\\n                    Add\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n    <div mat-dialog-actions class=\\\"flex flex-row items-center justify-end\\\">\\n        <button mat-button color=\\\"primary\\\"\\n                type=\\\"button\\\"\\n                [disabled]=\\\"(isLoading$ | async)\\\"\\n                (click)=\\\"cancel()\\\" cdkFocusInitial>\\n            Cancel\\n        </button>\\n        <button mat-button mat-raised-button color=\\\"primary\\\"\\n                type=\\\"submit\\\"\\n                [disabled]=\\\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\\\">\\n            Create\\n        </button>\\n    </div>\\n</form>\\n\",\"customCss\":\".add-entity-form .boolean-value-input {\\n    padding-left: 5px;\\n}\\n\\n.add-entity-form .boolean-value-input .checkbox-label {\\n    color: rgba(0,0,0,0.54);\\n    font-size: 12px;\\n}\\n\\n.relations-list .header {\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .header .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n    font-size: 12px;\\n    font-weight: 700;\\n    color: rgba(0, 0, 0, .54);\\n    white-space: nowrap;\\n}\\n\\n.relations-list .mat-form-field-infix {\\n    width: auto !important;\\n}\\n\\n.relations-list .body {\\n    padding-right: 5px;\\n    padding-bottom: 15px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .row {\\n    padding-top: 5px;\\n}\\n\\n.relations-list .body .cell {\\n    padding-right: 5px;\\n    padding-left: 5px;\\n}\\n\\n.relations-list .body .md-button {\\n    margin: 0;\\n}\\n\",\"customFunction\":\"let $injector = widgetContext.$scope.$injector;\\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\\nlet entityRelationService = $injector.get(widgetContext.servicesMap.get('entityRelationService'));\\n\\nopenAddEntityDialog();\\n\\nfunction openAddEntityDialog() {\\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\\n}\\n\\nfunction AddEntityDialogController(instance) {\\n    let vm = instance;\\n\\n    vm.allowedEntityTypes = ['ASSET', 'DEVICE'];\\n    vm.entitySearchDirection = {\\n        from: \\\"FROM\\\",\\n        to: \\\"TO\\\"\\n    }\\n\\n    vm.addEntityFormGroup = vm.fb.group({\\n     entityName: ['', [vm.validators.required]],\\n     entityType: ['DEVICE'],\\n     entityLabel: [null],\\n     type: ['', [vm.validators.required]],\\n     attributes: vm.fb.group({\\n         latitude: [null],\\n         longitude: [null],\\n         address: [null],\\n         owner: [null],\\n         number: [null, [vm.validators.pattern(/^-?[0-9]+$/)]],\\n         booleanValue: [null]\\n     }),\\n     relations: vm.fb.array([])\\n    });\\n\\n    vm.cancel = function() {\\n        vm.dialogRef.close(null);\\n    };\\n\\n    vm.relations = function() {\\n        return vm.addEntityFormGroup.get('relations');\\n    };\\n\\n    vm.addRelation = function() {\\n        vm.relations().push(vm.fb.group({\\n         relatedEntity: [null, [vm.validators.required]],\\n         relationType: [null, [vm.validators.required]],\\n         direction: [null, [vm.validators.required]]\\n        }));\\n    };\\n\\n    vm.removeRelation = function(index) {\\n        vm.relations().removeAt(index);\\n        vm.relations().markAsDirty();\\n    };\\n\\n    vm.save = function() {\\n        vm.addEntityFormGroup.markAsPristine();\\n        saveEntityObservable().subscribe(\\n            function (entity) {\\n                widgetContext.rxjs.forkJoin([\\n                    saveAttributes(entity.id),\\n                    saveRelations(entity.id)\\n                ]).subscribe(\\n                    function () {\\n                        widgetContext.updateAliases();\\n                        vm.dialogRef.close(null);\\n                    }\\n                );\\n            }\\n        );\\n    };\\n\\n    function saveEntityObservable() {\\n        const formValues = vm.addEntityFormGroup.value;\\n        let entity = {\\n            name: formValues.entityName,\\n            type: formValues.type,\\n            label: formValues.entityLabel\\n        };\\n        if (formValues.entityType == 'ASSET') {\\n            return assetService.saveAsset(entity);\\n        } else if (formValues.entityType == 'DEVICE') {\\n            return deviceService.saveDevice(entity);\\n        }\\n    }\\n\\n    function saveAttributes(entityId) {\\n        let attributes = vm.addEntityFormGroup.get('attributes').value;\\n        let attributesArray = [];\\n        for (let key in attributes) {\\n            if(attributes[key] !== null) {\\n                attributesArray.push({key: key, value: attributes[key]});\\n            }\\n        }\\n        if (attributesArray.length > 0) {\\n            return attributeService.saveEntityAttributes(entityId, \\\"SERVER_SCOPE\\\", attributesArray);\\n        }\\n        return widgetContext.rxjs.of([]);\\n    }\\n\\n    function saveRelations(entityId) {\\n        let relations = vm.addEntityFormGroup.get('relations').value;\\n        let tasks = [];\\n        for(let i=0; i < relations.length; i++) {\\n            let relation = {\\n                type: relations[i].relationType,\\n                typeGroup: 'COMMON'\\n            };\\n            if (relations[i].direction == 'FROM') {\\n                relation.to = relations[i].relatedEntity;\\n                relation.from = entityId;\\n            } else {\\n                relation.to = entityId;\\n                relation.from = relations[i].relatedEntity;\\n            }\\n            tasks.push(entityRelationService.saveRelation(relation));\\n        }\\n        if (tasks.length > 0) {\\n            return widgetContext.rxjs.forkJoin(tasks);\\n        }\\n        return widgetContext.rxjs.of([]);\\n    }\\n}\\n\",\"customResources\":[],\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"2f77431d-2922-8d34-12e1-2e64c1fcde6b\"}]},\"showTitleIcon\":false,\"titleIcon\":\"list\",\"iconColor\":null}"
  },
  "resources": [
    {
      "link": "/api/images/system/entities_table_system_widget_image.png",
      "title": "\"Entities table\" system widget image",
      "type": "IMAGE",
      "subType": "IMAGE",
      "fileName": "entities_table_system_widget_image.png",
      "publicResourceKey": "jVhLDRfo05TsYZ6vXKAUIl9NaY5b8jkn",
      "mediaType": "image/png",
      "data": "iVBORw0KGgoAAAANSUhEUgAAAMgAAACgCAAAAABslHx1AAAAAmJLR0QA/4ePzL8AAAnhSURBVHja7d3rU5NXHsBx/7KAa8WuBRahaEAIiQRFQSAKXlrUpagYAmgBJbXKin3qKlaKYAOmtFlQLpWkgCgSRC6GiwZFQAi3J/nuC9Da2RGSTNtZmXNeJWfmOfl9Juc2c855zjoWnU8HPvD01LnAukXHpMwHnuRJx+I65yRrIE061z2V1wJEfrpugDWRBgREQAREQAREQATkQ4A4X/sBkXW34IHO7d9PfqXT6XS6Tr9DztXpsv/zP7mJZf5AFEEjNCn8nEZ2WE4HWSxjfkPUxyyXAxv/IEjoAZoUsnxxx24b5ScOaaqMquwFHqSoL3u8KK1mM0h6xrT9WYXalF7mC2MODnsPKYXdxfycFFdOR2qJKkfmB83hqDK601RFc2Sc1e61HlJVeQep/NjSpJDrEvuMERRHtF9UlHZs+nk6+N8PQhu9hLSuf10V4dakdx1RY4zvyU/2HlI43LKp9rmysUXR3xhQ3RpoHQysatlc5gr5qlt9lvAs++6/35M2LHoFuVuxxayQaSw5qJCLM+hRTBBXfjdQklTnvITIYebDxWiu0a14vf2AVBDodUVVb/xEUeKhtzQvoLnxI9hSW7UNEstaAxe5GU14DcZ99CvGvIO4E6MV8g8RTZVvIeprdwIlSWrxEkLRgaBHaK7Ro5iMPiRJ0oIPVSvtCI6NVY8Cmxs/gvCam9GQWGZbL1P1KeE1GHXeQ+hdr5CLdoycVcy/hYxvKnd++8RbSJciCjSZz/O2U6Ad6pR8aSMPA7qa1/fUBzQuQfoC7jwKKZsOufYs0eAbRGmDUqU8unvLKaXj8in6lVNk/IBVG3z4hReh1O8AUH4NmpStqk5mcsKjzV5DMq7DiVNydmhmgskWC4n1XI1IzqigPSHkn69JrOdKNkPK8b9qQBzd1A+aax/8yN4WkMeagMjjYq4lIAIiIAIiIAIiIAIiIALyZ0MG10QSVUtABERABERABERABERABOQDh3TchuYGuN3x62kZ6DeMAy3lUG8wGDrp0J9aYT+Ay2Aoaf1dTleVL7G4/vVFpZupkpNLy5XdBoOhDsau1PgOeZQIGamwy14R0ADkBzhgIiINci5YLCNPtj9sC3//hoDJTdb6/SXv5ox1+QLJPTeYcZMMqUfdCXAj22LpoU9Z3u87RA6enY/WuOZC5IqkDHB9qnbAcWMapPcCLT+Cru39kGBY3OrgSXZWtysXGuvuV/K6+OBVGXtW9uNVY0noozZ3PsRDTQHAVzUAGc1+tZH0tl9yC5vaM6goiRml6ssdDpqz7qeBWvtprgw83z63IoQTNRNRXfaomaQe0jvNeg5dGfvixliUvStqdrVYTJ/XJXe6wxZo+AzgpGrrgVeEHIk/NO075JtvCu+0nJEkKr68+jU7+2McM/Hj99OgdWp+fzXM7bGxMiTvpinFYtllqzo/Fesx62c3u3nZ9f1+i2XHqrttftpbstvOqayquFMA9mFPUcHMhl6KLvoO6Tiocc1pDndSUTChfJhClOPcLmN25A2A6jPIn1WyCmRva0WSJEmDU+rai5j1M1sArqRKkrTqppTQ19j2IdfVSpeXc7qT5kLgXqbvkIXwdMiIWKSigOPRdUQ5Hlut1+O7ZiLnOF1O7iVWgdSq5K74RboWyYxxYNYT20/9d22JMg9W3coR7qTxADC0fRgZVCNUnyDhAZLRj3Ek5TpcT4WKAjpDF4hyAJ1pUKlO3udqCtRqtRfeDwnURmc+hzJV0iEXdxLBrOd+3L7UF3yt2pM5t1osDap0zWM82lQb6NqxqXXxw9jVKUkTf+SAKLu870fl37VOF4A848Vznt82y7kBz1IxM/70WmKKIiACIiACIiACIiACIiAC8kFAxDq7qFoCIiACIiACIiACIiACIiDvJL8OlM+/+bDgPyRmnPH4jp4UAKKUSqW8WH/4KsB0dN1qZU2FaGOyfneAtD7fh1AcOp1ubyyt0QlZCwDlqp0Zs0D1Nj8gW164Ekx0awEWIgFqC7MlgNzIVdftJ4PBpJHB9e4C7tK5xJk5rzDVRs+2QU5WAcPRC2RVg1PziT+QZ/svswwZ3WVrdwOlEmDLzPMKwl4bl7QJ52fD5zh/zazHFpuhdXJ+Z7w3Lwpwq52z/4DG48DkY8irgc+b/YKkR8hvID0RZ5KOLkNmtU4vIfk37Qmye8dQTgOqF2a9RzmA6XzHHo8c+3z1aOqPg3KIsuVl3L74WX7KnfULcvLYuTcQQI4cXoKcvYmXkOOmGxE6Xdhd2xf9+zHrJ8MAvo3U6UKtq0ezuwcsW1N1ZwAY1zxmYsdr/yAvZmLuLEPsfUsll0rMRWu1IVvrvIAsRA7U5kxNTS26VedrMevlYDdz45X5U1NTq/dgHakAslx4C2Am8R7cjNHGB+7yB8KTiJHuGLvd/qptz0jztvnlNoI3/8jH9ub0LxmPbB06PYUxxIVZzxHJmVPpjPz1af7qq7MHmwDaL+ycp2l8Mc1ot/cDfv0jJdPQcHPUYDAY2rEczR0EGpd2HZlX3YLhMhiKmoD+3EwLOK5DVy2ui0eroVefeXfVWFzFHsBTZJoFaXDcYDAYSoHFIjGyC4iACIiACIiACIiACIiACMj/OUSss4uqJSACIiACIiACIiACIiAfOMQ6Bcz+eOsl4G7zqaxFi6W+782Xh8McAOCY65mXr5L3NFf2APS9Ws6YvMOoxWKx2PyAvNpwBRa0pd8px7msCvQJMhkkXdr55uxoXScbAQib7jZ59/zJE7diG/hp18Y3h8ezg+mTJCnzlB+Q8jNxMHIRjluwzHzkGyQY+mO4P4irjvuDbISe8s6w6aF2fh6+UedBNlU+6Xjv4/NaN7U5tIwlL0OaMoMBSO31A6IZzegEGIwbAnyEbB52nMunwIQzigITG7Fvu1UQOG3WE3uwZreJ7OxbcXkrFlFYASxDZuKfBQN07fOjjTxKoU4PnFFmy75D/nb0s6iGdyEFlRA6bdYT68BUMB0iY1oRYkuWf4Pk354NBjjS7AckP9l4ZpML8GT+6DskGCY/WXgHktkMYdNmPbGj1BqG1awM6Y1z8hbSEWm5HWQBh9rjO2QurMVq/dzUWwLnKvyCzATNF1fgWIaUXEUOfguZC3Xx/QqQUc0gv0HuS1JZ0BXIq/aj+zUfA2zJ84n5xrhx3yEbDLlxl7inNO5dhowqiw8HvYVwYU9x1AoQVbrRaHQvQQzdwGwwjEfO+wEZeA64bR75119cADafILLV2vES6G9+1cngGDaYaHZ2yi8H6JzjxQDuh7arKxyyt1mtVqsHumdgYA6Q2+DlE/yA/Mkp52KVsvdPKvsvhcw3Vo2IuZaACIiACIiACIiAeANZMxcEr40rmyec6xbWxiXa8rq1ca25zH8BTrZIsxZexqkAAAAASUVORK5CYII=",
      "public": true
    }
  ],
  "scada": false,
  "tags": [
    "administration",
    "management"
  ]
}